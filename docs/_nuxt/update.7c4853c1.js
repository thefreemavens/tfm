import{F as S,f as B}from"./index.47e16f82.js";import{x as F,z as d,E as b,A as q,g as h,w as n,j as s,B as z,o as N,a as t,b as r,d as c,t as A,G as _,h as L,D as M,e as T,C as D}from"./entry.bb48f66d.js";import{_ as K}from"./AppSection.eed97b88.js";const $={class:"container relative mx-auto"},j=t("br",null,null,-1),E={class:""},G={class:"grid grid-cols-1 gap-8 lg:grid-cols-2"},H={class:"lg:col-start-2 lg:max-w-xl"},O={class:"relative"},P=t("span",{class:"flex mt-2 text-xs"},[t("span",{class:"block w-3.5 h-3.5 me-2"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M12 1.5a5.25 5.25 0 00-5.25 5.25v3a3 3 0 00-3 3v6.75a3 3 0 003 3h10.5a3 3 0 003-3v-6.75a3 3 0 00-3-3v-3c0-2.9-2.35-5.25-5.25-5.25zm3.75 8.25v-3a3.75 3.75 0 10-7.5 0v3h7.5z","clip-rule":"evenodd"})])]),c(" All submissions are kept secure and private. ")],-1),W={__name:"update",setup(R){const{$pb:g}=z(),e=F("maven",()=>""),f=d(""),x=d(""),u=d(""),p=b({get(){return e.value.name.split(" ")[0]},set(a){f.value=a}}),v=b({get(){return e.value.name.split(" ")[1]},set(a){x.value=a}}),V=b({get(){return e.value.username},set(a){u.value=a}}),y=d(e.value.email),m=d(e.value.telegram),w=async()=>{try{const a={name:f.value+" "+x.value,username:u.value,telegram:m.value},l=await g.collection("users").update(e.value.id,a);M("/maven/account")}catch(a){alert(a.message)}};return q(()=>{g.authStore.onChange(()=>{e.value=g.authStore.model},!0),f.value=p.value,x.value=v.value,u.value=V.value,m.value=e.value.telegram,y.value=e.value.email}),(a,l)=>{const i=B,k=T,C=K,U=D;return N(),h(s(S),{"config-file":"true"},{default:n(()=>[t("main",$,[r(U,null,{default:n(()=>[s(e)?(N(),h(C,{key:0,class:"md:pb-0 lg:pb-0"},{title:n(()=>[c(" Hello,"),j,c(" "+A(s(e).name.split(" ")[0]),1)]),desc:n(()=>[c(" Update your Maven page ")]),default:n(()=>[t("section",E,[t("div",G,[t("div",H,[r(i,{type:"form",onSubmit:w,"submit-label":"Update"},{default:n(()=>[r(i,{type:"text",name:"firstName",id:"firstName",label:"First Name",validation:"required|alpha:latin",modelValue:s(p),"onUpdate:modelValue":l[0]||(l[0]=o=>_(p)?p.value=o:null)},null,8,["modelValue"]),r(i,{type:"text",name:"lastName",id:"lastName",label:"Last Name",validation:"required|alpha:latin",modelValue:s(v),"onUpdate:modelValue":l[1]||(l[1]=o=>_(v)?v.value=o:null)},null,8,["modelValue"]),r(i,{type:"text",name:"username",id:"username",label:"Username",validation:"required|alphanumeric",modelValue:s(u),"onUpdate:modelValue":l[2]||(l[2]=o=>_(u)?u.value=o:null)},null,8,["modelValue"]),r(i,{type:"text",name:"telegram",id:"telegram",label:"Telegram @name",validation:"required|alphanumeric",modelValue:s(m),"onUpdate:modelValue":l[3]||(l[3]=o=>_(m)?m.value=o:null)},null,8,["modelValue"])]),_:1}),t("div",O,[P,r(k,{to:"/maven/login",class:"absolute right-0 -bottom-0.5 pb-0.5 text-xs font-bold text-center uppercase border-b border-transparent hover:border-black dark:hover:border-white"},{default:n(()=>[c(" Cancel ")]),_:1})])])])])]),_:1})):L("",!0)]),_:1})])]),_:1})}}};export{W as default};
