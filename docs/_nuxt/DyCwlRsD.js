import{F as C,a as B}from"./C4K4ENxx.js";import{y as F,f as S,z as d,E as x,A as q,c as z,b as o,w as n,h as r,o as N,D as A,j as L,k as K,a as l,B as g,d as p,e as M,t as T,C as $}from"./y-QxZGoX.js";import{_ as D}from"./CWA0Aj-u.js";const E={class:"container relative mx-auto"},j={class:""},H={class:"grid grid-cols-1 gap-8 lg:grid-cols-2"},O={class:"lg:col-start-2 lg:max-w-xl"},P={class:"relative"},Q={__name:"update",setup(R){const{$pb:f}=F(),a=S("maven",()=>""),_=d(""),b=d(""),u=d(""),v=x({get(){return a.value.name.split(" ")[0]},set(t){_.value=t}}),c=x({get(){return a.value.name.split(" ")[1]},set(t){b.value=t}}),V=x({get(){return a.value.username},set(t){u.value=t}}),y=d(a.value.email),m=d(a.value.telegram),w=async()=>{try{const t={name:_.value+" "+b.value,username:u.value,telegram:m.value},e=await f.collection("users").update(a.value.id,t);$("/maven/account")}catch(t){alert(t.message)}};return q(()=>{f.authStore.onChange(()=>{a.value=f.authStore.model},!0),_.value=v.value,b.value=c.value,u.value=V.value,m.value=a.value.telegram,y.value=a.value.email}),(t,e)=>{const i=C,k=M,U=D,h=A;return N(),z("main",E,[o(r(B),{"config-file":"true"},{default:n(()=>[o(h,null,{default:n(()=>[r(a)?(N(),L(U,{key:0,class:"md:pb-0 lg:pb-0"},{title:n(()=>[e[4]||(e[4]=p(" Hello,",-1)),e[5]||(e[5]=l("br",null,null,-1)),p(" "+T(r(a).name.split(" ")[0]),1)]),desc:n(()=>[...e[6]||(e[6]=[p(" Update your Maven page ",-1)])]),default:n(()=>[l("section",j,[l("div",H,[l("div",O,[o(i,{type:"form",onSubmit:w,"submit-label":"Update"},{default:n(()=>[o(i,{type:"text",name:"firstName",id:"firstName",label:"First Name",validation:"required|alpha:latin",modelValue:r(v),"onUpdate:modelValue":e[0]||(e[0]=s=>g(v)?v.value=s:null)},null,8,["modelValue"]),o(i,{type:"text",name:"lastName",id:"lastName",label:"Last Name",validation:"required|alpha:latin",modelValue:r(c),"onUpdate:modelValue":e[1]||(e[1]=s=>g(c)?c.value=s:null)},null,8,["modelValue"]),o(i,{type:"text",name:"username",id:"username",label:"Username",validation:"required|alphanumeric",modelValue:r(u),"onUpdate:modelValue":e[2]||(e[2]=s=>g(u)?u.value=s:null)},null,8,["modelValue"]),o(i,{type:"text",name:"telegram",id:"telegram",label:"Telegram @name",validation:"required|alphanumeric",modelValue:r(m),"onUpdate:modelValue":e[3]||(e[3]=s=>g(m)?m.value=s:null)},null,8,["modelValue"])]),_:1}),l("div",P,[e[8]||(e[8]=l("span",{class:"flex mt-2 text-xs"},[l("span",{class:"block w-3.5 h-3.5 me-2"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M12 1.5a5.25 5.25 0 00-5.25 5.25v3a3 3 0 00-3 3v6.75a3 3 0 003 3h10.5a3 3 0 003-3v-6.75a3 3 0 00-3-3v-3c0-2.9-2.35-5.25-5.25-5.25zm3.75 8.25v-3a3.75 3.75 0 10-7.5 0v3h7.5z","clip-rule":"evenodd"})])]),p(" All submissions are kept secure and private. ")],-1)),o(k,{to:"/maven/login",class:"absolute right-0 -bottom-0.5 pb-0.5 text-xs font-bold text-center uppercase border-b border-transparent hover:border-black dark:hover:border-white"},{default:n(()=>[...e[7]||(e[7]=[p(" Cancel ",-1)])]),_:1})])])])])]),_:1})):K("",!0)]),_:1})]),_:1})])}}};export{Q as default};
